{% extends 'base.html' %}
{% load static %}
{% block title %}
Order Details
{% endblock %}

{% block content %}
<div class="container">
  <div class="offset-md-3 col-md-6 col-sm-12 col-12">
    <div class="text-center">
        <br>
         <div class="mb-4">
            <br>
            <br>
            <h4 class="text-center">Order Details</h4>
        </div>
        <br>
        <table class="table table-bordered">
            <tr>
                <td class="text-left" colspan="2">
                    <b>Order:</b> #{{ order.id }}<br>
                    <b>Date:</b> {{ order.created|date:"d M Y"}}<br>
                    <b>Order Total:</b> ${{ order.total }}<br>
                    <b>Order Status:</b><i class="fas fa-check"></i> Complete.
                </td>
                <td class="text-left" colspan="2">
                    <b>Billing Address: </b><br>
                    {{ order.billingName }} <br>
                    {{ order.billingAddress1 }} <br>
                    {{ order.billingCity }} <br>
                    {{ order.billingPostcode }} <br>
                    {{ order.billingCountry }} <br>
                </td>
            </tr>
            <tr>
                <td><b>Product Description</b></td>
                <td><b>Qty</b></td>
                <td><b>Unit Price</b></td>
                <td><b>Sub-Total</b></td>
            </tr>
            {% for item in order_items %}
                <tr>
                     <td>{{ item.product }}</td>
                     <td>{{ item.quantity }}</td>
                     <td>${{ item.price }}</td>
                     <td>${{ item.sub_total }}</td>
                </tr>
            {% endfor %}
            <tr>
                <td class="text-right" colspan="3"><b>Total</b></td>
                <td>${{ order.total }}</td>
            </tr>
            <tr>
                <td class="text-right" colspan="3"><b>Total Paid</b></td>
                <td>${{ order.total }}</td>
            </tr>
            <tr>
                <td class="text-right" colspan="2">
                <b>Shipping Address:</b> <br>
                {{ order.shippingName }} <br>
                {{ order.shippingAddress1 }} <br>
                {{ order.shippingName }} <br>
                {{ order.shippingName }} <br>
                {{ order.shippingName }} <br>
                </td>
            </tr>
            <tr class="text-left" colspan="2">
                <b>Payment Details:</b><br>
                The order #{{ order.id }} has been paid successfully<br>
                <br>
            </tr>
        </table>
        <br>
        <div class="offset-md-6">
        <button class="btn btn-md btn-secondary" onclick="window.print();" 
        style="cursor: pointer; width: 200px;">
            <i class="fas fa-print"></i>
            Print Order
        </button>
        </div>
        <br><br><br><br><br><br><br>
    </div>
    </div>
 </div>
{% endblock %}